[unstoppable]
nodaemon=false
loglevel=warn
logformat=json
healthport=8080
user=trader
logfile=/dev/stdout
logfile_maxbytes=0

[program:x11vnc]
command=./x11vnc.sh
directory=/home/trader
autostart=true
autorestart=true
autorestart_delay=5
startretries=10
healthcheck_enabled=false

[program:ib-gateway]
command=./gatewaystart.sh -inline
directory=/opt/ibc
environment=DISPLAY=:0
autostart=true
autorestart=true
autorestart_delay=5
startretries=10
healthcheck_enabled=false

[program:socat-paper]
command=socat TCP-LISTEN:4003,bind=0.0.0.0,fork,reuseaddr TCP:127.0.0.1:4002
directory=/home/trader
autostart=true
autorestart=true
autorestart_delay=5
startretries=100
healthcheck_enabled=false

[program:socat-live]
command=socat TCP-LISTEN:4004,bind=0.0.0.0,fork,reuseaddr TCP:127.0.0.1:4001
directory=/home/trader
autostart=true
autorestart=true
autorestart_delay=5
startretries=100
healthcheck_enabled=false

[program:fastapi]
command=uvicorn main:app --host 0.0.0.0 --port 8000 --log-level info
directory=/home/trader/api
autostart=false
autorestart=true
autorestart_delay=5
startretries=10
healthcheck_enabled=true
healthcheck_url=http://127.0.0.1:8000/health
healthcheck_interval=30
healthcheck_timeout=10
